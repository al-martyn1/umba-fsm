Заметки на тему генератора FSM

Далека дорога твоя,
Далека, дика и пустынна.
Эта даль и глушь
Не для слабых душ.
Далека дорога твоя.
Эта даль и глушь
Не для слабых душ.
Далека дорога твоя.


enter-action, on-enter, exit-action, on-exit, loop-action, on-loop

события могут быть параметризованными одним параметром. События надо описать

Сначала описываем типы данных: using token_type = umba::tokenizer::token_type

атрибуты: native=true - говорит, что надо использовать константы для сравнения вида umba::tokenizer::SomeVal, когда встречается SomeVal, иначе - UMBA_TOKENIZER_SOME_VAL - это при конечной генерации

атрибут - name-style - с каким стилем генерить имя

события. event tokenEvent [payload=token_type, display-as="ВхТокен"]

payload - зарезервированное слово

состояния. state Start [display-as="Начало" on-enter=doEnter...], будет вызываться Start_doEnter()

Когда входим в режим чтения атрибутов, символ '-' (минус) перестаёт быть операторным, и становится идентификаторным


Попробуем сделать разбор через цепочки, которые будем хранить в trie.

Отличие от токенизера/лексера - там у нас в token-ключе лежали символы, а в payload - токены для лексем.
Тут у нас в token-ключе будут лежить уже токены, а в payload - доп инфа.

Задаём цепочки разбора


